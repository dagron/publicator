ссылка должна проверять, что не изменился тип и идентификатор корня

значение (состояние) должно проверять свою целостность
